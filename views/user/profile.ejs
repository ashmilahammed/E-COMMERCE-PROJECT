
<%- include("../../views/partials/user/header") %>

  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    
    :root {
      --sidebar-bg: hsl(0, 100%, 70%);
      --sidebar-text: #ffffff;
      --sidebar-hover: rgba(0, 0, 0, 0.1);
    }

    /* .sidebar {
      transition: all 0.3s;
      background-color: var(--sidebar-bg);
      color: var(--sidebar-text);
    } */

    .sidebar-item {
      transition: background-color 0.3s;
    }

    .sidebar-item:hover {
      background-color: var(--sidebar-hover);
    }

    .content-area {
      transition: all 0.3s;
    }

  </style>

  <body class="bg-gray-100">
    <div class="flex h-screen">
      <!-- Sidebar -->
      <div
        class="sidebar bg-gray-800 text-white w-64 space-y-6 py-7 px-2 absolute inset-y-0 left-0 transform -translate-x-full md:relative md:translate-x-0 transition duration-200 ease-in-out">
        <a href="#" class="text-white flex items-center space-x-2 px-4">
          <i class="fas fa-user-circle text-2xl"></i>
          <span style="color: rgb(255, 255, 255);" class="text-2xl font-extrabold">Welcome</span>
        </a>
        <nav>
          <a href="#"
            class="sidebar-item block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700 hover:text-white"
            data-target="dashboard">
            <i class="fas fa-home mr-2"></i>Dashboard
          </a>
          <a href="#"
            class="sidebar-item block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700 hover:text-white"
            data-target="address">
            <i class="fas fa-map-marker-alt mr-2"></i>My Address
          </a>
          <a href="#"
            class="sidebar-item block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700 hover:text-white"
            data-target="orders">
            <i class="fas fa-shopping-bag mr-2"></i>Orders
          </a>
          <a href="#"
            class="sidebar-item block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700 hover:text-white"
            data-target="wallet">
            <i class="fas fa-wallet mr-2"></i>Wallet Status
          </a>
          <a href="#"
            class="sidebar-item block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700 hover:text-white"
            data-target="wallet-history">
            <i class="fas fa-history mr-2"></i>Wallet History
          </a>
          <a href="#"  onclick="event.preventDefault(); window.location.href='/logout';"
            class="sidebar-item block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700 hover:text-white">
            <i class="fas fa-sign-out-alt mr-2"></i>Logout
          </a>
        </nav>
      </div>

      <!-- Content Area -->
      <div class="content-area flex-1 p-10 overflow-y-auto">
        <!-- Breadcrumb -->
        <div class="text-gray-700 mb-8">
          <a href="#" class="hover:underline">Home</a>
          <span class="mx-2">/</span>
          <a href="#" class="hover:underline">Profile</a>
          <span class="mx-2">/</span>
          <span>Account</span>
        </div>


        <!-- Dashboard Content -->
        <div id="dashboard" class="content-section">
          <div class="bg-white shadow rounded-lg p-6">
            <h2 class="text-2xl font-bold mb-4 text-gray-800">User Profile</h2>
            <div class="text-center">
              <h3 class="text-xl font-semibold mb-2"><%= user.fullName %></h3>
              <p class="text-gray-600 mb-1"><strong>Phone:</strong> <%= user.phone %></p>
              <p class="text-gray-600 mb-4"><strong>Email:</strong> <%= user.email %></p>
              <div class="space-x-2">
                <a href="/change-email" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded">Change
                  Email</a>
                <a href="/change-password" class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded">Change
                  Password</a>
              </div>
            </div>
          </div>
        </div>

       
        <!-- <div id="address" class="content-section hidden">
          <div class="bg-white shadow rounded-lg p-6">
            <h2 class="text-2xl font-bold mb-4 text-gray-800">My Address</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div class="border p-4 rounded-lg">
                <h3 class="font-semibold mb-2">Home Address</h3>
                <p>123 Main St, Anytown, USA 12345</p>
                <div class="mt-4 space-x-2">
                  <button
                    class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-1 px-3 rounded text-sm">Edit</button>
                  <button
                    class="bg-red-500 hover:bg-red-600 text-white font-bold py-1 px-3 rounded text-sm">Delete</button>
                </div>
              </div>
              <div class="border p-4 rounded-lg flex items-center justify-center">
                <button class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded">
                  <i class="fas fa-plus mr-2"></i>Add New Address
                </button>
              </div>
            </div>
          </div>
        </div> -->
   
         <!-- Address Content -->
         <div id="address" class="content-section hidden">
          <div class="bg-white shadow rounded-lg p-6">
            <h2 class="text-2xl font-bold mb-4 text-gray-800">My Address</h2>

            <% if (userAddress && userAddress.address.length> 0) { %>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <% userAddress.address.forEach((address)=> { %>
                  <div class="border p-4 rounded-lg">
                    <h3 class="font-semibold mb-2">
                      <%= address.addressType %>
                    </h3>
                    <hr style="height: 1px; background-color: lightgray; border: none;">
                    <address>
                      <%= address.name %><br />
                        <%= address.city %><br />
                          <%= address.landMark %><br />
                            <%= address.state %><br />
                    </address>
                    <p> <%= address.pincode %> </p>
                    <p> <%= address.phone %> </p>
                    <p> <%= address.altPhone %> </p>
                    
                    <div class="mt-4 space-x-2">
                      <a href="/editAddress?id=<%= address._id %>">
                        <button class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-1 px-3 rounded text-sm">
                          Edit
                        </button>
                      </a>

                     <a href="/deleteAddress?id=<%= address._id %>">
                      <button class="bg-red-500 hover:bg-red-600 text-white font-bold py-1 px-3 rounded text-sm" onclick="return confirm('Are you sure you want to delete this address?')">
                        Delete
                      </button>
                     </a>
                     
                    </div>
                  </div>
                  <% }) %>
              </div>
              <% } else { %>
                <p>You haven't added any addresses yet.</p>
              <% } %>
                <div class="border p-4 rounded-lg flex items-center justify-center">
                  <a href="/addAddress">
                    <button class="bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded">
                      <i class="fas fa-plus mr-2"></i>Add New Address
                    </button>
                  </a>
                </div>           
          </div>
        </div>


        <!-- Orders Content -->
        <div id="orders" class="content-section hidden">
          <div class="bg-white shadow rounded-lg p-6">
            <h2 class="text-2xl font-bold mb-4 text-gray-800">Your Orders</h2>
            <div class="overflow-x-auto">
              <table class="min-w-full bg-white">
                <thead class="bg-gray-800 text-white">
                  <tr>
                    <th class="py-3 px-4 text-left">Order</th>
                    <th class="py-3 px-4 text-left">Status</th>
                    <th class="py-3 px-4 text-left">Total</th>
                    <th class="py-3 px-4 text-left">Actions</th>
                  </tr>
                </thead>
                <tbody class="text-gray-700">
                  <tr>
                    <td class="py-3 px-4">#12345</td>
                    <td class="py-3 px-4">Shipped</td>
                    <td class="py-3 px-4">$99.99</td>
                    <td class="py-3 px-4">
                      <a href="#" class="text-blue-500 hover:underline">View</a>
                    </td>
                  </tr>
                  <!-- Add more rows as needed -->
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <!-- Wallet Status Content -->
        <div id="wallet" class="content-section hidden">
          <div class="bg-white shadow rounded-lg p-6">
            <h2 class="text-2xl font-bold mb-4 text-gray-800">Wallet</h2>
            <div class="text-center">
              <h3 class="text-xl font-semibold mb-2">Current Balance</h3>
              <p class="text-3xl font-bold text-green-600 mb-4">$500.00</p>
              <button class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded">
                Add Money
              </button>
            </div>
          </div>
        </div>

        <!-- Wallet History Content -->
        <div id="wallet-history" class="content-section hidden">
          <div class="bg-white shadow rounded-lg p-6">
            <h2 class="text-2xl font-bold mb-4 text-gray-800">Wallet History</h2>
            <div class="overflow-x-auto">
              <table class="min-w-full bg-white">
                <thead class="bg-gray-800 text-white">
                  <tr>
                    <th class="py-3 px-4 text-left">Date</th>
                    <th class="py-3 px-4 text-left">Status</th>
                    <th class="py-3 px-4 text-left">Amount</th>
                  </tr>
                </thead>
                <tbody class="text-gray-700">
                  <tr>
                    <td class="py-3 px-4">2023-05-01</td>
                    <td class="py-3 px-4">Added</td>
                    <td class="py-3 px-4">$100.00</td>
                  </tr>
                  <!-- Add more rows as needed -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', function () {
        const sidebarItems = document.querySelectorAll('.sidebar-item');
        const contentSections = document.querySelectorAll('.content-section');

        sidebarItems.forEach(item => {
          item.addEventListener('click', function (e) {
            e.preventDefault();
            const target = this.getAttribute('data-target');

            contentSections.forEach(section => {
              section.classList.add('hidden');
            });

            document.getElementById(target).classList.remove('hidden');

            sidebarItems.forEach(item => {
              item.classList.remove('bg-gray-700', 'text-white');
            });
            this.classList.add('bg-gray-700', 'text-white');
          });
        });
      });
    </script>
  </body>

  <%- include("../../views/partials/user/footer") %>




