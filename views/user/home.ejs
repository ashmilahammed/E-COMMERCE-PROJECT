<%- include("../../views/partials/user/header") %>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        .btn {
            display: inline-block;
            padding: 12px 20px;
            font-size: 16px;
            font-weight: bold;
            color: #fff;
            background-color: #ff6b6b;
            border: none;
            border-radius: 5px;
            transition: background-color 0.3s, transform 0.3s;
            cursor: pointer;
            text-align: center;
        }


        .btn:hover {
            background-color: #ff4c4c;
            transform: translateY(-2px);
        }


        .btn:active {
            transform: translateY(1px);
        }

        .wishlist-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(255, 255, 255, 0.8);
            padding: 10px;
            border-radius: 50%;
            color: #ff6b6b;
            font-size: 18px;
            z-index: 10;
            transition: background-color 0.3s, color 0.3s, transform 0.3s;
        }


        .wishlist-btn:hover {
            background-color: rgba(255, 255, 255, 1);
            color: #ff4c4c;
            transform: translateY(-2px);
        }


        .wishlist-btn:active {
            transform: translateY(1px);
        }


        .product-img-action-wrap {
            position: relative;
        }


        .product-img {
            position: relative;
            display: block;
            overflow: hidden;
        }


        .product-cart-wrap {
            border: 1px solid #eee;
            padding: 20px;
            margin-bottom: 30px;
        }


        .product-content-wrap h6 {
            font-size: 18px;
            color: #333;
            margin-bottom: 5px;
        }


        .product-content-wrap h5 {
            font-size: 16px;
            color: #ff6b6b;
            margin-bottom: 10px;
        }


        .product-content-wrap a {
            display: inline-block;
            padding: 8px 12px;
            background-color: #ff6b6b;
            color: white;
            text-transform: uppercase;
            font-size: 14px;
            border-radius: 4px;
            text-decoration: none;
        }


        .product-content-wrap a:hover {
            background-color: #ff4c4c;
        }
    </style>
    <!-- Hero Section Begin -->
    <section class="hero">
        <div class="hero__slider owl-carousel">
            <div class="hero__items set-bg" data-setbg="img/hero/hero-1.jpg">
                <div class="container">
                    <div class="row">
                        <div class="col-xl-5 col-lg-7 col-md-8">
                            <div class="hero__text">
                                <h6>Summer Collection</h6>
                                <h2 class="description-1">Fall - Winter Collections 2030</h2>
                                <p class="description-2">A specialist label creating luxury essentials. Ethically
                                    crafted with an unwavering
                                    commitment to exceptional quality.</p>
                                <a href="#" class="primary-btn">Shop now <span class="arrow_right"></span></a>
                                <div class="hero__social">
                                    <a href="#"><i class="fa fa-facebook"></i></a>
                                    <a href="#"><i class="fa fa-twitter"></i></a>
                                    <a href="#"><i class="fa fa-pinterest"></i></a>
                                    <a href="#"><i class="fa fa-instagram"></i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="hero__items set-bg" data-setbg="img/hero/hero-2.jpg">
                <div class="container">
                    <div class="row">
                        <div class="col-xl-5 col-lg-7 col-md-8">
                            <div class="hero__text">
                                <h6>Summer Collection</h6>
                                <h2>Fall - Winter Collections 2030</h2>
                                <p>A specialist label creating luxury essentials. Ethically crafted with an unwavering
                                    commitment to exceptional quality.</p>
                                <a href="#" class="primary-btn">Shop now <span class="arrow_right"></span></a>
                                <div class="hero__social">
                                    <a href="#"><i class="fa fa-facebook"></i></a>
                                    <a href="#"><i class="fa fa-twitter"></i></a>
                                    <a href="#"><i class="fa fa-pinterest"></i></a>
                                    <a href="#"><i class="fa fa-instagram"></i></a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Hero Section End -->

    <!-- Banner Section Begin -->
    <section class="banner spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-7 offset-lg-4">
                    <div class="banner__item">
                        <div class="banner__item__pic">
                            <img src="img/banner/banner-1.jpg" alt="">
                        </div>
                        <div class="banner__item__text">
                            <h2>Shoes Collections 2030</h2>
                            <a href="#">Shop now</a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-5">
                    <div class="banner__item banner__item--middle">
                        <div class="banner__item__pic">
                            <img src="img/banner/banner-2.jpg" alt="">
                        </div>
                        <div class="banner__item__text">
                            <h2>Best Products</h2>
                            <a href="#">Shop now</a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-7">
                    <div class="banner__item banner__item--last">
                        <div class="banner__item__pic">
                            <img src="img/banner/banner-3.jpg" alt="">
                        </div>
                        <div class="banner__item__text">
                            <h2>Shoes Spring 2030</h2>
                            <a href="#">Shop now</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Banner Section End -->

    <!-- Product Section Begin -->
    <section class="product spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="section-title">
                        <h2>Featured Products</h2>
                    </div>
                </div>
            </div>
            <div class="row">
                <% if (products && products.length> 0) { %>
                    <% products.forEach(product=> { %>
                        <div class="col-lg-3 col-md-6 col-sm-6">
                            <div class="product__item">
                                <div class="product__item__pic set-bg"
                                    data-setbg="/uploads/re-image/<%= product.productImage && product.productImage.length > 0 ? product.productImage[0] : 'default.jpg' %>">
                                    <% if (product.variants && product.variants.some(v=> v.quantity > 0)) { %>
                                        <span class="label">In Stock</span>
                                        <% } %>
                                            <ul class="product__hover">
                                                <li>
                                                    <a href="javascript:void(0)"
                                                        onclick="addToWishlist('<%= product._id %>')">
                                                        <i class="fa fa-heart"></i>
                                                    </a>
                                                </li>
                                                <!-- <li>
                                                    <a href="/product/<%= product._id %>">
                                                        <i class="fa fa-search"></i>
                                                    </a>
                                                </li> -->
                                            </ul>
                                </div>
                                <div class="product__item__text">
                                    <!-- Product Name -->
                                    <h5>
                                            <%= product.productName ? product.productName : 'No Name Available' %>
                                    </h5>   

                                    <!-- Brand Name -->
                                    <% if (product.brand) { %>
                                        <p class="product-brand"><strong>Brand:</strong>
                                            <%= product.brand %>
                                        </p>
                                        <% } %>

                                            <!-- Available Sizes -->
                                            <% if (product.availableSizes && product.availableSizes.length> 0) { %>
                                                <div class="size-badges">
                                                    <strong>Size:</strong>
                                                    <% product.availableSizes.forEach(size=> { %>
                                                        <span class="size-badge">
                                                            <%= size %>
                                                        </span>
                                                        <% }); %>
                                                </div>
                                                <% } %>

                                                    <!-- Price Section -->
                                                    <div class="price-section">
                                                        <% if (product.salePrice && product.regularPrice) { %>
                                                            <p>
                                                                Price: ₹<%= product.salePrice.toLocaleString('en-IN') %>
                                                                    <span class="text-muted">
                                                                        <strike>₹<%=
                                                                                product.regularPrice.toLocaleString('en-IN')
                                                                                %></strike>
                                                                    </span>
                                                            </p>
                                                            <% } else { %>
                                                                <p>Price: Not Available</p>
                                                                <% } %>
                                                    </div>

                                                    <!-- Rating -->
                                                    <% if (product.rating !==undefined) { %>
                                                        <div class="product-rating">
                                                            <strong>Rating:</strong>
                                                            <%= product.rating %>/5 ⭐
                                                        </div>
                                                        <% } %>

                                                            <!-- Add to Cart Button -->
                                                            <button class="add-cart-btn"
                                                                onclick="addToCart('<%= product._id %>')">
                                                                Add to Cart 🛒
                                                            </button>

                                                            <!-- View Details Button -->
                                                            <a href="/productDetails?id=<%= product._id %>" class="add-cart">View
                                                                Details</a>
                                </div>
                            </div>
                        </div> 
                        <% }); %>
                            <% } else { %>
                                <p>No products found.</p>
                                <% } %>
            </div>
        </div>
    </section>

    <style>
        .add-cart-btn {
            display: block;
            width: 100%;
            padding: 10px;
            background: #ff5e5e;
            color: #ffffff;
            border: none;
            border-radius: 5px;
            font-size: 14px;
            font-weight: bold;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 10px;
        }

        .add-cart-btn:hover {
            background: #218838;
        }

        .product__item {
            margin-bottom: 35px;
            transition: all 0.3s ease;
        }

        .product__item:hover {
            transform: translateY(-5px);
        }

        .product__item__pic {
            position: relative;
            height: 260px;
            border-radius: 5px;
            overflow: hidden;
        }

        .product__item__pic img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .label {
            position: absolute;
            left: 10px;
            top: 10px;
            padding: 5px 10px;
            background: #111111;
            border-radius: 27px;
            font-size: 11px;
            color: #ffffff;
            font-weight: 700;
            text-transform: uppercase;
            z-index: 3;
        }

        .product__hover {
            position: absolute;
            right: 10px;
            top: 10px;
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .product__hover li {
            margin-bottom: 10px;
        }

        .product__hover li a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 35px;
            height: 35px;
            background: #ffffff;
            border-radius: 50%;
            color: #111111;
            transition: all 0.3s;
        }

        .product__hover li a:hover {
            background: #111111;
            color: #ffffff;
        }

        .product__item__text {
            padding: 20px 10px 0;
            text-align: center;
        }

        .product__item__text h6 {
            margin-bottom: 5px;
        }

        .product__item__text h6 a {
            color: #111111;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s;
        }

        .product__item__text h6 a:hover {
            color: #e53637;
        }

        .product-category {
            color: #666;
            font-size: 13px;
            margin-bottom: 10px;
        }

        .size-badges {
            margin: 10px 0;
        }

        .size-badge {
            display: inline-block;
            padding: 2px 8px;
            margin: 0 2px;
            background: #f5f5f5;
            border-radius: 12px;
            font-size: 12px;
            color: #666;
        }

        .price-section {
            margin: 10px 0;
        }

        .price-section h5 {
            color: #111111;
            font-weight: 700;
            margin: 0;
        }

        .add-cart {
            display: inline-block;
            padding: 8px 20px;
            background: #111111;
            color: #ffffff;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s;
        }

        .add-cart:hover {
            background: #e53637;
            color: #ffffff;
        }
    </style>



    <!-- Categories Section Begin -->
    <!-- <section class="categories spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-3">
                    <div class="categories__text">
                        <h2>Clothings Hot <br /> <span>Shoe Collection</span> <br /> Accessories</h2>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="categories__hot__deal">
                        <img src="img/product-sale.png" alt="">
                        <div class="hot__deal__sticker">
                            <span>Sale Of</span>
                            <h5>$29.99</h5>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 offset-lg-1">
                    <div class="categories__deal__countdown">
                        <span>Deal Of The Week</span>
                        <h2>Multi-pocket Chest Bag Black</h2>
                        <div class="categories__deal__countdown__timer" id="countdown">
                            <div class="cd-item">
                                <span>3</span>
                                <p>Days</p>
                            </div>
                            <div class="cd-item">
                                <span>1</span>
                                <p>Hours</p>
                            </div>
                            <div class="cd-item">
                                <span>50</span>
                                <p>Minutes</p>
                            </div>
                            <div class="cd-item">
                                <span>18</span>
                                <p>Seconds</p>
                            </div>
                        </div>
                        <a href="#" class="primary-btn">Shop now</a>
                    </div>
                </div>
            </div>
        </div>
    </section> -->

    <!-- Categories Section End -->

    <!-- Instagram Section Begin -->
    <!-- <section class="instagram spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <div class="instagram__pic">
                        <div class="instagram__pic__item set-bg" data-setbg="img/instagram/instagram-1.jpg"></div>
                        <div class="instagram__pic__item set-bg" data-setbg="img/instagram/instagram-2.jpg"></div>
                        <div class="instagram__pic__item set-bg" data-setbg="img/instagram/instagram-3.jpg"></div>
                        <div class="instagram__pic__item set-bg" data-setbg="img/instagram/instagram-4.jpg"></div>
                        <div class="instagram__pic__item set-bg" data-setbg="img/instagram/instagram-5.jpg"></div>
                        <div class="instagram__pic__item set-bg" data-setbg="img/instagram/instagram-6.jpg"></div>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="instagram__text">
                        <h2>Instagram</h2>
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut
                        labore et dolore magna aliqua.</p>
                        <h3>#Male_Fashion</h3>
                    </div>
                </div>
            </div>
        </div>
    </section> -->

    <!-- Instagram Section End -->

    <!-- Latest Blog Section Begin -->

    <!-- <section class="latest spad">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="section-title">
                        <span>Latest News</span>
                        <h2>Fashion New Trends</h2>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="blog__item">
                        <div class="blog__item__pic set-bg" data-setbg="img/blog/blog-1.jpg"></div>
                        <div class="blog__item__text">
                            <span><img src="img/icon/calendar.png" alt=""> 16 February 2020</span>
                            <h5>What Curling Irons Are The Best Ones</h5>
                            <a href="#">Read More</a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="blog__item">
                        <div class="blog__item__pic set-bg" data-setbg="img/blog/blog-2.jpg"></div>
                        <div class="blog__item__text">
                            <span><img src="img/icon/calendar.png" alt=""> 21 February 2020</span>
                            <h5>Eternity Bands Do Last Forever</h5>
                            <a href="#">Read More</a>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="blog__item">
                        <div class="blog__item__pic set-bg" data-setbg="img/blog/blog-3.jpg"></div>
                        <div class="blog__item__text">
                            <span><img src="img/icon/calendar.png" alt=""> 28 February 2020</span>
                            <h5>The Health Benefits Of Sunglasses</h5>
                            <a href="#">Read More</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section> -->
    <!-- Latest Blog Section End -->



    <script>
        // Initialize background images for products
        document.addEventListener('DOMContentLoaded', function () {
            const setBgElements = document.querySelectorAll('.set-bg');
            setBgElements.forEach(element => {
                const bg = element.getAttribute('data-setbg');
                element.style.backgroundImage = `url(${bg})`;
                element.style.backgroundSize = 'cover';
                element.style.backgroundPosition = 'center';
            });
        });

        function addToWishlist(productId) {
            console.log('Adding to wishlist:', productId);
            showToast('Product added to Wishlist', 'wishlist');
        }

        function addToCart(productId) {              
            console.log('Adding to cart:', productId);
            showToast('Product added to Cart', 'cart');
        }

        function showToast(message, type) {
            const toastContainer = document.getElementById('toast-container');
            const toast = document.createElement('div');
            toast.className = `toast-message ${type}`;
            toast.innerHTML = message;

            toastContainer.appendChild(toast);

            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => {
                    toast.remove();
                }, 500);
            }, 1500);
        }
    </script>

    <style>
        /* Toast Message Styles */
        #toast-container {
            position: fixed;
            top: 8%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 300px;
        }
 
        .toast-message {
            background: #333;
            color: #fff;
            padding: 12px 24px;
            border-radius: 0px;
            margin-bottom: 10px;
            opacity: 1;
            transition: opacity 0.5s ease-in-out;
            font-size: 14px;
            font-weight: bold;
            text-align: center;
        }

        .toast-message.cart {
            background: #42a814;
           
        }

        .toast-message.wishlist {
            background: #ff583f;
        }
        
    </style>

    <!-- Toast Container -->
    <div id="toast-container"></div>

    <%- include("../../views/partials/user/footer") %>